diff --speed-large-files --minimal -Nru tmp/boost_1_34_1/configure work/main.d/boost_1_34_1/configure
--- tmp/boost_1_34_1/configure	2007-05-09 19:09:39.000000000 -0300
+++ boost_1_34_1/configure	2007-09-06 17:30:50.000000000 -0300
@@ -37,7 +37,7 @@
       PREFIX=`expr "x$option" : "x-*prefix=\(.*\)"`
       ;;
 
-    -exec-prefix=* | --exec-prefix=*)
+    -exec_prefix=* | --exec_prefix=*)
       EPREFIX=`expr "x$option" : "x-*exec-prefix=\(.*\)"`
       ;;
 
@@ -122,12 +122,6 @@
       TOOLSET=`expr "x$option" : "x-*with-toolset=\(.*\)"`
       ;;
 
-    -*)
-      { echo "error: unrecognized option: $option
-Try \`$0 --help' for more information." >&2
-      { (exit 1); exit 1; }; }
-      ;; 
-
     esac
 done
 
@@ -194,7 +188,7 @@
 if test "x$BJAM" = x; then
   echo -n "Building Boost.Jam with toolset $TOOLSET... "
   pwd=`pwd`
-  cd "$my_dir/tools/jam/src" && ./build.sh "$TOOLSET" > config.log 2>&1
+  cd "$my_dir/tools/jam/src" &&  CFLAGS="" ./build.sh "$TOOLSET" > config.log 2>&1
   cd $pwd
   arch=`cd $my_dir/tools/jam/src && ./bootstrap/jam0 -d0 -f build.jam --toolset=$TOOLSET --toolset-root= --show-locate-target && cd ..`
   BJAM="$my_dir/tools/jam/src/$arch/bjam"
@@ -296,12 +290,14 @@
 
 # Generate user-config.jam
 echo "Generating Boost.Build configuration in user-config.jam..."
+
+if [ "$TOOLSET" == "cc" ]; then usingTool="gcc"; else usingTool=$TOOLSET; fi
 cat > user-config.jam <<EOF
 # Boost.Build Configuration
 # Automatically generated by Boost configure 
 
 # Compiler configuration
-using $TOOLSET ; 
+using $usingTool ; 
 EOF
 
 #  - Python configuration

